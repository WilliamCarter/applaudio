<div id="base" ng-controller="BaseCtrl as base">

    <header id="application-header">
        <h1>
            <!-- This is ridiculous but the below must all be on the same line, or extra whitespace will be appended to the end of each link... -->
            <div ng-repeat="pathElem in base.currentPathElements track by $index" class="inline"><span>/</span><a href="{{base.linkBackToDepth($index)}}">{{pathElem}}</a></div>
        </h1>
    </header>

    <div id="lower-content" ng-controller="DirectoryListingCtrl as dl">

        <div id="left-panel">Music player to go here</div>

        <div applaudio-scrollable id="listing-menu" >

            <div ng-repeat="item in dl.listing | filter:query | orderBy:accountForArtists" class="directory" repeat-end="window.resizeApplication()" ng-click="dl.navigate(item)">
                <div id="directory_{{ item.label | htmlify }}">{{item.label}}</div>
            </div>
            <div id="placeholder-holder"><!-- placeholder holder seems to prevent items skipping when placeholder becomes visible. -->
                <div class="empty-listing-placeholder" ng-if="!(dl.listing | filter:query).length" >Nothing here...</div>
            </div>
        </div>

        <div id="right-panel">

            <div id="filter">
                <input placeholder="Filter" ng-model="query">
            </div>

            <applaudio-ui-modal button-text="'Add Directory'">
                <add-directory-modal></add-directory-modal>
            </applaudio-ui-modal>

            <applaudio-ui-modal button-text="'Upload Music'">
                <upload-modal></upload-modal>
            </applaudio-ui-modal>


        </div>

    </div>

</div>